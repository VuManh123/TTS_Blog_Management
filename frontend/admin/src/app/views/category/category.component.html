<c-row>
  <c-col xs>
    <c-card class="mb-4">
      <c-card-header>All Of Categories</c-card-header>
      <c-card-body>
        <!-- Các nút hành động -->
        <div class="d-flex justify-content-between mb-3">
          <div>
            <button cButton color="primary" variant="outline" class="me-2">
              <svg [cIcon]="icons.cilPlus" class="me-2"></svg>Add Category
            </button>
            <button cButton color="primary" variant="outline" >
              <svg [cIcon]="icons.cilVerticalAlignBottom" class="me-2"></svg>Export List
            </button>
          </div>
          <!-- Ô tìm kiếm -->
          <div>
            <input
              type="text"
              [(ngModel)]="searchQuery"
              placeholder="Search..."
              class="form-control"
              style="width: 250px"
            />
          </div>
        </div>

        <!-- Bảng dữ liệu -->
        <table [hover]="true" [responsive]="true" [striped]="true" cTable class="mb-0 border">
          <thead class="text-nowrap text-truncate">
            <tr>
              <th>#</th>
              <th>Name</th>
              <th>Description</th>
              <th>Created Date</th>
              <th>Updated Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let category of filteredCategories; let i = index">
              <td>{{ i + 1 }}</td>
              <td>{{ category.name }}</td>
              <td>{{ category.description }}</td>
              <td>{{ category.createdDate | date: 'dd/MM/yyyy HH:mm' }}</td>
              <td>{{ category.updatedDate | date: 'dd/MM/yyyy HH:mm' }}</td>
              <td>
                <div class="action-buttons" style="display: flex; gap: 8px;">
                  <button cButton color="info" (click)="toggleLiveInfo()">
                    <svg [cIcon]="icons.cilZoom"></svg>
                  </button>
                  <!-- Modal for view -->
                  <c-modal id="liveInfoModal" [visible]="liveInfoVisible" (visibleChange)="handleLiveInfoChange($event)">
                    <c-modal-header>
                      <p style="font-size: 20px; margin-bottom: 0;">Category Infomation</p>
                      <button (click)="toggleLiveInfo()" cButtonClose></button>
                    </c-modal-header>
                    <c-modal-body>Woohoo, you&#39;re reading this text in a modal!</c-modal-body>
                    <c-modal-footer>
                      <button (click)="toggleLiveInfo()" cButton color="secondary">
                        Close
                      </button>
                    </c-modal-footer>
                  </c-modal>

                  <button cButton color="warning" (click)="onEdit(category)">
                    <svg [cIcon]="icons.cilPencil"></svg>
                  </button>
                  <!--  -->
                  <button cButton color="danger" (click)="toggleLiveDelete()">
                    <svg [cIcon]="icons.cilTrash"></svg>
                  </button>
                  <!-- Modal for delete -->
                  <c-modal id="liveDeleteModal" [visible]="liveDeleteVisible" (visibleChange)="handleLiveDeleteChange($event)">
                    <c-modal-header>
                      <p style="font-size: 20px; margin-bottom: 0;">Delete Category</p>
                      <button (click)="toggleLiveDelete()" cButtonClose></button>
                    </c-modal-header>
                    <c-modal-body>Are you sure you want to delete this category?</c-modal-body>
                    <c-modal-footer>
                      <button (click)="toggleLiveDelete()" cButton color="secondary">
                        Close
                      </button>
                      <button cButton color="danger">Delete</button>
                    </c-modal-footer>
                  </c-modal>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
        
      </c-card-body>
    </c-card>
  </c-col>
</c-row>
